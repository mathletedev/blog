import{R as i,r as a}from"./index.UCAuQZPX.js";const P=r=>r==null,O=(r,n)=>{if(typeof n!="string"){const{children:t,...o}=n.props;n.key||(o.key="typist-cursor"),n=i.cloneElement(n,o,t)}const l=t=>{if(!t)return t;if(t.length===0)return[n];const o=t[t.length-1];if(typeof o=="string")return[...t,n];const{children:c,...p}=o.props;if(P(c))return[...t,n];const e=l(c),s=i.cloneElement(o,p,e);return[...t.slice(0,-1),s]};return l(r)},L=()=>{},V=r=>r.split(""),S=r=>null,A=r=>null,_=(r,n)=>{let l=0;const t=o=>a.Children.map(o,c=>{if(l>=n.length)return null;if(a.isValidElement(c)){if(c.type===S||c.type===A)return null;const{children:p,...e}=c.props;if(P(p))return n[l++];const s=t(p);return s&&s.length===0?null:a.cloneElement(c,e,s)}return typeof c=="string"||typeof c=="number"?n[l++]:null});return t(r)},K=({children:r})=>i.createElement(i.Fragment,null,r);function F(r,n){const l=[],t=[];let o=!1;const c=p=>{a.Children.forEach(p,e=>{if(a.isValidElement(e)){if(e.type===A)return;if(e.type===S){let u=e.props.count;for(;u--;){let y=t.length-1,E=t[y];for(;E===null&&y>0;)y-=1,E=t[y];if(E===null)break;if(typeof E=="object"&&(t[y]=null),typeof E=="string"){const I=n(E).slice(0,-1).join("");t[y]=I||null}l.push([...t])}return}if(e.type===K){o=!0,a.Children.forEach(e.props.children,c),o=!1;return}if(P(e.props.children)){t.push(e),l.push([...t]);return}a.Children.forEach(e.props.children,c)}const s=(()=>{if(typeof e=="number")return e.toString(10);if(typeof e=="string")return e})();if(s===void 0)return;if(o){t.push(s),l.push([...t]);return}const d=n(s),h=t.length;for(let u=1;u<=d.length;u++){const y=d.slice(0,u).join("");t[h]=y,l.push([...t])}})};return c(r),l.map(p=>_(r,p))}const R=r=>({type:"TYPE_TOKEN",payload:r}),q=r=>({type:"BACKSPACE",payload:r}),z=r=>({type:"DELAY",payload:r}),G=r=>({type:"PASTE",payload:r}),H=(r,n)=>{const l=[];let t=!1,o=0;const c=p=>{a.Children.forEach(p,e=>{if(a.isValidElement(e)){if(e.type===S){const h=e.props.count,u=h>o?o:h;o-=u,l.push(q(u));return}if(e.type===A){l.push(z(e.props.ms));return}if(e.type===K){t=!0,a.Children.forEach(e.props.children,c),t=!1;return}if(P(e.props.children)){o+=1,l.push(R(e));return}a.Children.forEach(e.props.children,c)}const s=(()=>{if(typeof e=="number")return e.toString(10);if(typeof e=="string")return e})();if(s===void 0)return;if(t){o+=n(s).length,l.push(G(s));return}const d=n(s);o+=d.length,d.forEach(h=>{l.push(R(h))})})};return c(r),l},J=({cursor:r,disabled:n=!1,restartKey:l,children:t,splitter:o=V,typingDelay:c=75,backspaceDelay:p=c,onTypingDone:e,startDelay:s=0,finishDelay:d=0,loop:h=!1,pause:u=!1})=>{const[y,E]=a.useState([]),[I,b]=a.useState(-1),D=a.useRef(L),T=a.useRef(h),x=a.useRef(u),w=a.useCallback(m=>new Promise((g,f)=>{const k=typeof m=="number"?m:m(),C=setTimeout(g,k);D.current=()=>{clearTimeout(C),f()}}),[]),Y=a.useCallback(()=>new Promise((m,g)=>{const f=setInterval(()=>{x.current||(clearInterval(f),m())});D.current=()=>{clearInterval(f),g()}}),[]),j=a.useCallback(()=>new Promise((m,g)=>{const f=setInterval(()=>{T.current&&(clearInterval(f),m())});D.current=()=>{clearInterval(f),g()}}),[]);a.useEffect(()=>{T.current=h,x.current=u},[h,u]),a.useEffect(()=>{const m=F(t,o);if(E(m),n){b(m.length-1);return}return(async()=>{try{do{b(-1);const g=H(t,o);s>0&&await w(s);for(const{type:f,payload:k}of g)if(x.current&&await Y(),f==="TYPE_TOKEN")b(C=>C+1),await w(c);else if(f==="BACKSPACE"){let C=k;for(;C--;)b(B=>B+1),await w(p)}else f==="PASTE"?b(C=>C+1):f==="DELAY"&&await w(k);e?.(),d>0&&await w(d),T.current||await j()}while(T.current)}catch{}})(),()=>{D.current()}},[l,n]);const N=y[I];return i.createElement(i.Fragment,null,r?O(N,r):N)},v=Object.assign(J,{Delay:A,Backspace:S,Paste:K}),M=r=>r.map(n=>({value:n,sort:Math.random()})).sort((n,l)=>n.sort-l.sort).map(({value:n})=>n),U=({texts:r})=>i.createElement("div",{className:"h-24"},i.createElement(v,{typingDelay:100,loop:!0},M(r).map(n=>i.createElement("div",{key:n},i.createElement(v.Delay,{ms:1e3}),i.createElement("p",{className:"text-center text-2xl md:text-4xl text-sapphire opacity-80 select-none neon"},n),i.createElement(v.Delay,{ms:1500}),i.createElement(v.Backspace,{count:n.length})))));export{U as default};
